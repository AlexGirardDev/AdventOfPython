#i was curious how many lines i could trim so ye, if you wanna actualy understand this better go to the commit before this one because i threw all readability out the window
import numpy,itertools
f = numpy.transpose([[ y != "."for y in x.strip()] for x in open("input/2019/day10.txt", "r")])
print(max(list(sum(1 for z in list(itertools.product(range(len(f)), range(len(f[0])))) if f[z[0]][z[1]] and x != z and (all (f[x[0] + r if (z[0] - x[0]) > 0 else x[0] - r if (z[0] - x[0]) != 0 else 0][x[1] + r if (z[1] - x[1]) > 0 else x[1] - r if (z[1] - x[1])!= 0 else 0] == 0 for r in range(1, abs((z[1] - x[1]) + (z[0] - x[0])))) if (z[0] - x[0]) == 0 or (z[1] - x[1]) == 0 else  not any((((x[0] + (abs((z[0] - x[0])) - n) if (z[0] - x[0]) >= 0 else x[0] - (abs((z[0] - x[0])) - n)) * 1.0).is_integer() and ((x[1] + (abs((z[1] - x[1])) - abs((z[1] - x[1]) / (z[0] - x[0]) * n)) if (z[1] - x[1]) >= 0 else x[1] - (abs((z[1] - x[1])) - abs((z[1] - x[1]) / (z[0] - x[0]) * n))) * 1.0).is_integer() and f[int((x[0] + (abs((z[0] - x[0])) - n) if (z[0] - x[0]) >= 0 else x[0] - (abs((z[0] - x[0])) - n)))][int((x[1] + (abs((z[1] - x[1])) - abs((z[1] - x[1]) / (z[0] - x[0]) * n)) if (z[1] - x[1]) >= 0 else x[1] - (abs((z[1] - x[1])) - abs((z[1] - x[1]) / (z[0] - x[0]) * n))))] != 0) for n in range(1, abs((z[0] - x[0])))))) for x in list(itertools.product(range(len(f)), range(len(f[0])))) if f[x[0]][x[1]])))
